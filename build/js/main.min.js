window.MYFL={},function(){var e={isEmail:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},isNumber:function(e){return/^\d+$/.test(e)},isNotEmpty:function(e){return Boolean(e)}};MYFL.validation=e}(),function(){var o={},e=document.querySelector(".form-container"),n=null;function t(){o.close(),n.removeEventListener("click",t),document.removeEventListener("keydown",i)}function i(e){"Escape"===e.key&&o.close()}o.open=function(){e.classList.remove("is-hidden"),(n=document.querySelector(".form__close-button")).addEventListener("click",t),document.addEventListener("keydown",i)},o.close=function(){e.classList.add("is-hidden")},o.isValid=function(){var e=document.querySelectorAll('[data-valid="required"]'),n=document.querySelector("[data-email]").value,t=document.querySelector("[data-number]").value;return o.isAllCompleted(e)?MYFL.validation.isEmail(n)?!!MYFL.validation.isNumber(t)||(console.log("Не верный номер"),!1):(console.log("Не верный email"),!1):(console.log("Заполните пожалуйста все необходимые поля"),!1)},o.isAllCompleted=function(e){for(var n=!0,t=0;t<e.length;t++)if(!MYFL.validation.isNotEmpty(e[t].value)){n=!1;break}return n},MYFL.form=o}(),function(){var e={};e.toggleToActiveLink=function(e){for(var o,i,l,n=document.querySelectorAll(".nav__link"),t=e.dataset.link,a=0;a<n.length;a++)n[a].classList.contains("nav__link--active")&&n[a].classList.remove("nav__link--active");e.classList.add("nav__link--active"),e=t,e=document.querySelector("."+t).getBoundingClientRect(),o=window.scrollY,i=e.top+o,l=null,window.requestAnimationFrame(function e(n){var t,n=n-(l=l||n);window.scrollTo(0,o+(i-o)*((t=Math.min(n/400,1))<.5?2*t*t:(4-2*t)*t-1)),n<400&&window.requestAnimationFrame(e)})},MYFL.navigation=e}(),function(){var e=document.querySelector(".arrow-down"),n=(console.log(e),document.querySelector(".form")),t=document.querySelector(".nav");e&&e.addEventListener("click",function(e){e.preventDefault(),MYFL.form.open()}),n&&n.addEventListener("submit",function(e){e.preventDefault(),MYFL.form.isValid()?console.log("All good"):console.log("Is not valid")}),t&&t.addEventListener("click",function(e){var n=e.target;"a"===n.tagName.toLowerCase()&&(e.preventDefault(),MYFL.navigation.toggleToActiveLink(n))})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluaXQuanMiLCJ2YWxpZGF0aW9uLmpzIiwiZm9ybS5qcyIsIm5hdmlnYXRpb24uanMiLCJtYWluLmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsIk1ZRkwiLCJtZSIsImlzRW1haWwiLCJlbWFpbCIsInRlc3QiLCJpc051bWJlciIsIm51bWJlciIsImlzTm90RW1wdHkiLCJzdHIiLCJCb29sZWFuIiwidmFsaWRhdGlvbiIsImZvcm0iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjbG9zZUJ1dHRvbiIsIm9uQ2xvc2UiLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvbkVzY0tleVByZXNzIiwiZXZlbnQiLCJrZXkiLCJvcGVuIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImFkZCIsImlzVmFsaWQiLCJyZXF1aXJlZEZpZWxkcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbWFpbFZhbHVlIiwidmFsdWUiLCJudW1iZXJWYWx1ZSIsImlzQWxsQ29tcGxldGVkIiwiY29uc29sZSIsImxvZyIsImRhdGEiLCJyZXN1bHQiLCJpIiwibGVuZ3RoIiwidG9nZ2xlVG9BY3RpdmVMaW5rIiwidGFyZ2V0Iiwic3RhcnRZIiwidGFyZ2V0WSIsInN0YXJ0IiwibGlua3MiLCJzaG93ZWRTZWN0aW9uIiwiZGF0YXNldCIsImxpbmsiLCJjb250YWlucyIsImNvb3JkcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInNjcm9sbFkiLCJ0b3AiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzdGVwIiwidGltZXN0YW1wIiwidCIsInByb2dyZXNzIiwic2Nyb2xsVG8iLCJNYXRoIiwibWluIiwibmF2aWdhdGlvbiIsIm9wZW5Gb3JtQnV0dG9uIiwibmF2IiwiZSIsInByZXZlbnREZWZhdWx0IiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIl0sIm1hcHBpbmdzIjoiQUFBQUEsT0FBQUMsS0FBQSxHQ0FBLFdBQ0EsSUFBQUMsRUFBQSxDQUVBQyxRQUFB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QSxXQUNBLElBQUE2RCxFQUFBbEQsU0FBQUMsY0FBQSxhQUFBLEVBRUFGLEdBREFzQixRQUFBQyxJQUFBNEIsQ0FBQSxFQUNBbEQsU0FBQUMsY0FBQSxPQUFBLEdBQ0FrRCxFQUFBbkQsU0FBQUMsY0FBQSxNQUFBLEVBRUFpRCxHQUNBQSxFQUFBdEMsaUJBQUEsUUFBQSxTQUFBd0MsR0FDQUEsRUFBQUMsZUFBQSxFQUNBakUsS0FBQVcsS0FBQVUsS0FBQSxDQUNBLENBQUEsRUFHQVYsR0FDQUEsRUFBQWEsaUJBQUEsU0FBQSxTQUFBd0MsR0FDQUEsRUFBQUMsZUFBQSxFQUNBakUsS0FBQVcsS0FBQWUsUUFBQSxFQUNBTyxRQUFBQyxJQUFBLFVBQUEsRUFFQUQsUUFBQUMsSUFBQSxjQUFBLENBR0EsQ0FBQSxFQUdBNkIsR0FDQUEsRUFBQXZDLGlCQUFBLFFBQUEsU0FBQXdDLEdBQ0EsSUFBQXhCLEVBQUF3QixFQUFBeEIsT0FFQSxNQUFBQSxFQUFBMEIsUUFBQUMsWUFBQSxJQUlBSCxFQUFBQyxlQUFBLEVBQ0FqRSxLQUFBNkQsV0FBQXRCLG1CQUFBQyxDQUFBLEVBQ0EsQ0FBQSxDQUdBLEVBQUEiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cuTVlGTCA9IHt9OyIsIihmdW5jdGlvbigpIHtcclxuICAgIHZhciBtZSA9IHt9O1xyXG5cclxuICAgIG1lLmlzRW1haWwgPSBmdW5jdGlvbihlbWFpbCkge1xyXG4gICAgICAgIHZhciByZSA9IC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xyXG4gICAgICAgIHJldHVybiByZS50ZXN0KGVtYWlsKTtcclxuICAgIH07XHJcblxyXG4gICAgbWUuaXNOdW1iZXIgPSBmdW5jdGlvbihudW1iZXIpIHtcclxuICAgICAgICB2YXIgcmUgPSAvXlxcZCskLztcclxuICAgICAgICByZXR1cm4gcmUudGVzdChudW1iZXIpO1xyXG4gICAgfTtcclxuXHJcbiAgICBtZS5pc05vdEVtcHR5ID0gZnVuY3Rpb24oc3RyKSB7XHJcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4oc3RyKTtcclxuICAgIH07XHJcblxyXG4gICAgTVlGTC52YWxpZGF0aW9uID0gbWU7XHJcbn0oKSk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBtZSA9IHt9O1xyXG4gICAgdmFyIGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1jb250YWluZXInKTtcclxuICAgIHZhciBjbG9zZUJ1dHRvbiA9IG51bGw7XHJcblxyXG4gICAgZnVuY3Rpb24gb25DbG9zZSgpIHtcclxuICAgICAgICBtZS5jbG9zZSgpO1xyXG4gICAgICAgIGNsb3NlQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbG9zZSk7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uRXNjS2V5UHJlc3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9uRXNjS2V5UHJlc3MoZXZlbnQpIHtcclxuICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgICAgICAgIG1lLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG1lLm9wZW4gPSBmdW5jdGlvbigpIHtcclxuICAgICAgZm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1oaWRkZW4nKTtcclxuXHJcbiAgICAgIGNsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm1fX2Nsb3NlLWJ1dHRvbicpO1xyXG4gICAgICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbG9zZSlcclxuICAgICAgICBcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25Fc2NLZXlQcmVzcyk7XHJcbiAgICB9O1xyXG5cclxuICAgIG1lLmNsb3NlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIGZvcm0uY2xhc3NMaXN0LmFkZCgnaXMtaGlkZGVuJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIG1lLmlzVmFsaWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgcmVxdWlyZWRGaWVsZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS12YWxpZD1cInJlcXVpcmVkXCJdJyk7XHJcbiAgICAgICAgdmFyIGVtYWlsVmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1lbWFpbF0nKS52YWx1ZTtcclxuICAgICAgICB2YXIgbnVtYmVyVmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1udW1iZXJdJykudmFsdWU7XHJcblxyXG4gICAgICAgIGlmICghbWUuaXNBbGxDb21wbGV0ZWQocmVxdWlyZWRGaWVsZHMpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfQl9Cw0L/QvtC70L3QuNGC0LUg0L/QvtC20LDQu9GD0LnRgdGC0LAg0LLRgdC1INC90LXQvtCx0YXQvtC00LjQvNGL0LUg0L/QvtC70Y8nKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIU1ZRkwudmFsaWRhdGlvbi5pc0VtYWlsKGVtYWlsVmFsdWUpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfQndC1INCy0LXRgNC90YvQuSBlbWFpbCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIGlmICghTVlGTC52YWxpZGF0aW9uLmlzTnVtYmVyKG51bWJlclZhbHVlKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn0J3QtSDQstC10YDQvdGL0Lkg0L3QvtC80LXRgCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcblxyXG4gICAgbWUuaXNBbGxDb21wbGV0ZWQgPSBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoIU1ZRkwudmFsaWRhdGlvbi5pc05vdEVtcHR5KGRhdGFbaV0udmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICBNWUZMLmZvcm0gPSBtZTtcclxufSgpKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgbWUgPSB7fTtcclxuXHJcbiAgICBtZS50b2dnbGVUb0FjdGl2ZUxpbmsgPSBmdW5jdGlvbih0YXJnZXQpIHtcclxuICAgICAgICB2YXIgbGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2X19saW5rJyk7XHJcbiAgICAgICAgdmFyIHNob3dlZFNlY3Rpb24gPSB0YXJnZXQuZGF0YXNldC5saW5rO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmtzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChsaW5rc1tpXS5jbGFzc0xpc3QuY29udGFpbnMoJ25hdl9fbGluay0tYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgICAgIGxpbmtzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ25hdl9fbGluay0tYWN0aXZlJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ25hdl9fbGluay0tYWN0aXZlJyk7XHJcbiAgICAgICAgc2Nyb2xsVG9BY3RpdmVTZWN0aW9uKHNob3dlZFNlY3Rpb24pO1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBzY3JvbGxUb0FjdGl2ZVNlY3Rpb24oc2hvd2VkU2VjdGlvbikge1xyXG4gICAgdmFyIHNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIHNob3dlZFNlY3Rpb24pO1xyXG4gICAgdmFyIGNvb3JkcyA9IHNlY3Rpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICB2YXIgc3RhcnRZID0gd2luZG93LnNjcm9sbFk7XHJcbiAgICB2YXIgdGFyZ2V0WSA9IGNvb3Jkcy50b3AgKyBzdGFydFk7IC8vINC60L7QvtGA0LTQuNC90LDRgtCwLCDQtNC+INC60L7RgtC+0YDQvtC5INC90YPQttC90L4g0L/RgNC+0LrRgNGD0YLQuNGC0YxcclxuXHJcbiAgICB2YXIgZHVyYXRpb24gPSA0MDA7IC8vINC/0YDQvtC00L7Qu9C20LjRgtC10LvRjNC90L7RgdGC0Ywg0LDQvdC40LzQsNGG0LjQuCDQsiDQvNC40LvQu9C40YHQtdC60YPQvdC00LDRhVxyXG4gICAgdmFyIHN0YXJ0ID0gbnVsbDtcclxuXHJcbiAgICBmdW5jdGlvbiBzdGVwKHRpbWVzdGFtcCkge1xyXG4gICAgICAgIGlmICghc3RhcnQpIHN0YXJ0ID0gdGltZXN0YW1wO1xyXG4gICAgICAgIHZhciBwcm9ncmVzcyA9IHRpbWVzdGFtcCAtIHN0YXJ0O1xyXG5cclxuICAgICAgICAvLyDQrdGE0YTQtdC60YIgXCJlYXNlSW5PdXRRdWFkXCJcclxuICAgICAgICB2YXIgZWFzZUluT3V0UXVhZCA9IGZ1bmN0aW9uKHQpIHsgcmV0dXJuIHQ8LjUgPyAyKnQqdCA6IC0xKyg0LTIqdCkqdCB9O1xyXG5cclxuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgc3RhcnRZICsgKHRhcmdldFkgLSBzdGFydFkpICogZWFzZUluT3V0UXVhZChNYXRoLm1pbihwcm9ncmVzcyAvIGR1cmF0aW9uLCAxKSkpO1xyXG5cclxuICAgICAgICBpZiAocHJvZ3Jlc3MgPCBkdXJhdGlvbikge1xyXG4gICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApO1xyXG59XHJcblxyXG5cclxuICAgIE1ZRkwubmF2aWdhdGlvbiA9IG1lO1xyXG59KCkpOyIsIihmdW5jdGlvbigpIHtcclxuICAgIHZhciBvcGVuRm9ybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hcnJvdy1kb3duJyk7XHJcbiAgICBjb25zb2xlLmxvZyhvcGVuRm9ybUJ1dHRvbik7XHJcbiAgICB2YXIgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XHJcbiAgICB2YXIgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdicpO1xyXG5cclxuICAgIGlmIChvcGVuRm9ybUJ1dHRvbikge1xyXG4gICAgICAgIG9wZW5Gb3JtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIE1ZRkwuZm9ybS5vcGVuKCk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZm9ybSkge1xyXG4gICAgICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGlmIChNWUZMLmZvcm0uaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQWxsIGdvb2QnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJcyBub3QgdmFsaWQnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChuYXYpIHtcclxuICAgICAgICBuYXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDtcclxuXHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAnYScpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBNWUZMLm5hdmlnYXRpb24udG9nZ2xlVG9BY3RpdmVMaW5rKHRhcmdldCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59KCkpOyJdfQ==
