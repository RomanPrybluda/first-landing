window.MYFL={},function(){var e={isEmail:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},isNumber:function(e){return/^\d+$/.test(e)},isNotEmpty:function(e){return Boolean(e)}};MYFL.validation=e}(),function(){var t={},e=document.querySelector(".form-container"),n=null;function o(){t.close(),n.removeEventListener("click",o),document.removeEventListener("keydown",i)}function i(e){"Escape"===e.key&&t.close()}t.open=function(){e.classList.remove("is-hidden"),(n=document.querySelector(".form__close-button")).addEventListener("click",o),document.addEventListener("keydown",i)},t.close=function(){e.classList.add("is-hidden")},t.isValid=function(){var e=document.querySelectorAll('[data-valid="required"]'),n=document.querySelector("[data-email]").value,o=document.querySelector("[data-number]").value;return t.isAllCompleted(e)?MYFL.validation.isEmail(n)?!!MYFL.validation.isNumber(o)||(console.log("Не верный номер"),!1):(console.log("Не верный email"),!1):(console.log("Заполните пожалуйста все необходимые поля"),!1)},t.isAllCompleted=function(e){for(var n=!0,o=0;o<e.length;o++)if(!MYFL.validation.isNotEmpty(e[o].value)){n=!1;break}return n},MYFL.form=t}(),function(){var e={};e.toggleToActiveLink=function(e){for(var t,i,l,n=document.querySelectorAll(".nav__link"),o=e.dataset.link,a=0;a<n.length;a++)n[a].classList.contains("nav__link--active")&&n[a].classList.remove("nav__link--active");e.classList.add("nav__link--active"),"header"===o?window.scrollTo({top:0,behavior:"smooth"}):(e=o,e=document.querySelector("."+o).getBoundingClientRect(),o=document.querySelector(".header").offsetHeight,t=window.scrollY,i=e.top+t-o,l=null,window.requestAnimationFrame(function e(n){var o,n=n-(l=l||n);window.scrollTo(0,t+(i-t)*((o=Math.min(n/400,1))<.5?2*o*o:(4-2*o)*o-1)),n<400&&window.requestAnimationFrame(e)}))},MYFL.navigation=e}(),function(){var e=document.querySelector(".arrow-down"),n=(console.log(e),document.querySelector(".form")),o=document.querySelector(".nav");e&&e.addEventListener("click",function(e){e.preventDefault(),MYFL.form.open()}),n&&n.addEventListener("submit",function(e){e.preventDefault(),MYFL.form.isValid()?console.log("All good"):console.log("Is not valid")}),o&&o.addEventListener("click",function(e){var n=e.target;"a"===n.tagName.toLowerCase()&&(e.preventDefault(),MYFL.navigation.toggleToActiveLink(n))})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluaXQuanMiLCJ2YWxpZGF0aW9uLmpzIiwiZm9ybS5qcyIsIm5hdmlnYXRpb24uanMiLCJtYWluLmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsIk1ZRkwiLCJtZSIsImlzRW1haWwiLCJlbWFpbCIsInRlc3QiLCJpc051bWJlciIsIm51bWJlciIsImlzTm90RW1wdHkiLCJzdHIiLCJCb29sZWFuIiwidmFsaWRhdGlvbiIsImZvcm0iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjbG9zZUJ1dHRvbiIsIm9uQ2xvc2UiLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvbkVzY0tleVByZXNzIiwiZXZlbnQiLCJrZXkiLCJvcGVuIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImFkZCIsImlzVmFsaWQiLCJyZXF1aXJlZEZpZWxkcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbWFpbFZhbHVlIiwidmFsdWUiLCJudW1iZXJWYWx1ZSIsImlzQWxsQ29tcGxldGVkIiwiY29uc29sZSIsImxvZyIsImRhdGEiLCJyZXN1bHQiLCJpIiwibGVuZ3RoIiwidG9nZ2xlVG9BY3RpdmVMaW5rIiwidGFyZ2V0Iiwic3RhcnRZIiwidGFyZ2V0WSIsInN0YXJ0IiwibGlua3MiLCJzaG93ZWRTZWN0aW9uIiwiZGF0YXNldCIsImxpbmsiLCJjb250YWlucyIsInNjcm9sbFRvIiwidG9wIiwiYmVoYXZpb3IiLCJjb29yZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJoZWFkZXJIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJzY3JvbGxZIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic3RlcCIsInRpbWVzdGFtcCIsInQiLCJwcm9ncmVzcyIsIk1hdGgiLCJtaW4iLCJuYXZpZ2F0aW9uIiwib3BlbkZvcm1CdXR0b24iLCJuYXYiLCJlIiwicHJldmVudERlZmF1bHQiLCJ0YWdOYW1lIiwidG9Mb3dlckNhc2UiXSwibWFwcGluZ3MiOiJBQUFBQSxP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QUEsR0FGQSxHQUFBLEVBQUFELEVBQUFBLEdBQUEsRUFBQSxFQUFBQSxHQUFBQSxFQUFBLEVBRUEsRUFFQUMsRUFYQSxLQVlBOUQsT0FBQTBELHNCQUFBQyxDQUFBLENBRUEsQ0FFQSxFQTNCQSxFQStCQTFELEtBQUFnRSxXQUFBL0QsQ0FDQSxFQUFBLEVDdkRBLFdBQ0EsSUFBQWdFLEVBQUFyRCxTQUFBQyxjQUFBLGFBQUEsRUFFQUYsR0FEQXNCLFFBQUFDLElBQUErQixDQUFBLEVBQ0FyRCxTQUFBQyxjQUFBLE9BQUEsR0FDQXFELEVBQUF0RCxTQUFBQyxjQUFBLE1BQUEsRUFFQW9ELEdBQ0FBLEVBQUF6QyxpQkFBQSxRQUFBLFNBQUEyQyxHQUNBQSxFQUFBQyxlQUFBLEVBQ0FwRSxLQUFBVyxLQUFBVSxLQUFBLENBQ0EsQ0FBQSxFQUdBVixHQUNBQSxFQUFBYSxpQkFBQSxTQUFBLFNBQUEyQyxHQUNBQSxFQUFBQyxlQUFBLEVBQ0FwRSxLQUFBVyxLQUFBZSxRQUFBLEVBQ0FPLFFBQUFDLElBQUEsVUFBQSxFQUVBRCxRQUFBQyxJQUFBLGNBQUEsQ0FHQSxDQUFBLEVBR0FnQyxHQUNBQSxFQUFBMUMsaUJBQUEsUUFBQSxTQUFBMkMsR0FDQSxJQUFBM0IsRUFBQTJCLEVBQUEzQixPQUVBLE1BQUFBLEVBQUE2QixRQUFBQyxZQUFBLElBSUFILEVBQUFDLGVBQUEsRUFDQXBFLEtBQUFnRSxXQUFBekIsbUJBQUFDLENBQUEsRUFDQSxDQUFBLENBR0EsRUFBQSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5NWUZMID0ge307IiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIG1lID0ge307XHJcblxyXG4gICAgbWUuaXNFbWFpbCA9IGZ1bmN0aW9uKGVtYWlsKSB7XHJcbiAgICAgICAgdmFyIHJlID0gL14oKFtePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XHJcbiAgICAgICAgcmV0dXJuIHJlLnRlc3QoZW1haWwpO1xyXG4gICAgfTtcclxuXHJcbiAgICBtZS5pc051bWJlciA9IGZ1bmN0aW9uKG51bWJlcikge1xyXG4gICAgICAgIHZhciByZSA9IC9eXFxkKyQvO1xyXG4gICAgICAgIHJldHVybiByZS50ZXN0KG51bWJlcik7XHJcbiAgICB9O1xyXG5cclxuICAgIG1lLmlzTm90RW1wdHkgPSBmdW5jdGlvbihzdHIpIHtcclxuICAgICAgICByZXR1cm4gQm9vbGVhbihzdHIpO1xyXG4gICAgfTtcclxuXHJcbiAgICBNWUZMLnZhbGlkYXRpb24gPSBtZTtcclxufSgpKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG1lID0ge307XHJcbiAgICB2YXIgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLWNvbnRhaW5lcicpO1xyXG4gICAgdmFyIGNsb3NlQnV0dG9uID0gbnVsbDtcclxuXHJcbiAgICBmdW5jdGlvbiBvbkNsb3NlKCkge1xyXG4gICAgICAgIG1lLmNsb3NlKCk7XHJcbiAgICAgICAgY2xvc2VCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsb3NlKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25Fc2NLZXlQcmVzcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25Fc2NLZXlQcmVzcyhldmVudCkge1xyXG4gICAgICAgIGlmIChldmVudC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICAgICAgbWUuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbWUub3BlbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICBmb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWhpZGRlbicpO1xyXG5cclxuICAgICAgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fY2xvc2UtYnV0dG9uJyk7XHJcbiAgICAgICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsb3NlKVxyXG4gICAgICAgIFxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbkVzY0tleVByZXNzKTtcclxuICAgIH07XHJcblxyXG4gICAgbWUuY2xvc2UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgZm9ybS5jbGFzc0xpc3QuYWRkKCdpcy1oaWRkZW4nKTtcclxuICAgIH07XHJcblxyXG4gICAgbWUuaXNWYWxpZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciByZXF1aXJlZEZpZWxkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXZhbGlkPVwicmVxdWlyZWRcIl0nKTtcclxuICAgICAgICB2YXIgZW1haWxWYWx1ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWVtYWlsXScpLnZhbHVlO1xyXG4gICAgICAgIHZhciBudW1iZXJWYWx1ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW51bWJlcl0nKS52YWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKCFtZS5pc0FsbENvbXBsZXRlZChyZXF1aXJlZEZpZWxkcykpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ9CX0LDQv9C+0LvQvdC40YLQtSDQv9C+0LbQsNC70YPQudGB0YLQsCDQstGB0LUg0L3QtdC+0LHRhdC+0LTQuNC80YvQtSDQv9C+0LvRjycpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIGlmICghTVlGTC52YWxpZGF0aW9uLmlzRW1haWwoZW1haWxWYWx1ZSkpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ9Cd0LUg0LLQtdGA0L3Ri9C5IGVtYWlsJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IGVsc2UgaWYgKCFNWUZMLnZhbGlkYXRpb24uaXNOdW1iZXIobnVtYmVyVmFsdWUpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfQndC1INCy0LXRgNC90YvQuSDQvdC+0LzQtdGAJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuXHJcbiAgICBtZS5pc0FsbENvbXBsZXRlZCA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICghTVlGTC52YWxpZGF0aW9uLmlzTm90RW1wdHkoZGF0YVtpXS52YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIE1ZRkwuZm9ybSA9IG1lO1xyXG59KCkpOyIsIihmdW5jdGlvbigpIHtcclxuICAgIHZhciBtZSA9IHt9O1xyXG5cclxuICAgIG1lLnRvZ2dsZVRvQWN0aXZlTGluayA9IGZ1bmN0aW9uKHRhcmdldCkge1xyXG4gICAgICAgIHZhciBsaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZfX2xpbmsnKTtcclxuICAgICAgICB2YXIgc2hvd2VkU2VjdGlvbiA9IHRhcmdldC5kYXRhc2V0Lmxpbms7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlua3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGxpbmtzW2ldLmNsYXNzTGlzdC5jb250YWlucygnbmF2X19saW5rLS1hY3RpdmUnKSkge1xyXG4gICAgICAgICAgICAgICAgbGlua3NbaV0uY2xhc3NMaXN0LnJlbW92ZSgnbmF2X19saW5rLS1hY3RpdmUnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnbmF2X19saW5rLS1hY3RpdmUnKTtcclxuXHJcbiAgICAgICAgaWYgKHNob3dlZFNlY3Rpb24gPT09ICdoZWFkZXInKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7XHJcbiAgICAgICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2Nyb2xsVG9BY3RpdmVTZWN0aW9uKHNob3dlZFNlY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gc2Nyb2xsVG9BY3RpdmVTZWN0aW9uKHNob3dlZFNlY3Rpb24pIHtcclxuICAgICAgICB2YXIgc2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nICsgc2hvd2VkU2VjdGlvbik7ICAgIFxyXG4gICAgICAgIHZhciBjb29yZHMgPSBzZWN0aW9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHZhciBoZWFkZXJIZWlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyJykub2Zmc2V0SGVpZ2h0OyBcclxuXHJcbiAgICAgICAgdmFyIHN0YXJ0WSA9IHdpbmRvdy5zY3JvbGxZO1xyXG4gICAgICAgIHZhciB0YXJnZXRZID0gY29vcmRzLnRvcCArIHN0YXJ0WSAtIGhlYWRlckhlaWdodDtcclxuXHJcbiAgICAgICAgdmFyIGR1cmF0aW9uID0gNDAwO1xyXG4gICAgICAgIHZhciBzdGFydCA9IG51bGw7XHJcblxyXG4gICAgZnVuY3Rpb24gc3RlcCh0aW1lc3RhbXApIHtcclxuICAgICAgICBpZiAoIXN0YXJ0KSBzdGFydCA9IHRpbWVzdGFtcDtcclxuICAgICAgICB2YXIgcHJvZ3Jlc3MgPSB0aW1lc3RhbXAgLSBzdGFydDtcclxuXHJcbiAgICAgICAgdmFyIGVhc2VJbk91dFF1YWQgPSBmdW5jdGlvbih0KSB7IHJldHVybiB0PC41ID8gMip0KnQgOiAtMSsoNC0yKnQpKnQgfTtcclxuXHJcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIHN0YXJ0WSArICh0YXJnZXRZIC0gc3RhcnRZKSAqIGVhc2VJbk91dFF1YWQoTWF0aC5taW4ocHJvZ3Jlc3MgLyBkdXJhdGlvbiwgMSkpKTtcclxuXHJcbiAgICAgICAgaWYgKHByb2dyZXNzIDwgZHVyYXRpb24pIHtcclxuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcclxufVxyXG5cclxuXHJcbiAgICBNWUZMLm5hdmlnYXRpb24gPSBtZTtcclxufSgpKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgb3BlbkZvcm1CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXJyb3ctZG93bicpO1xyXG4gICAgY29uc29sZS5sb2cob3BlbkZvcm1CdXR0b24pO1xyXG4gICAgdmFyIGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xyXG4gICAgdmFyIG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXYnKTtcclxuXHJcbiAgICBpZiAob3BlbkZvcm1CdXR0b24pIHtcclxuICAgICAgICBvcGVuRm9ybUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBNWUZMLmZvcm0ub3BlbigpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGZvcm0pIHtcclxuICAgICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBpZiAoTVlGTC5mb3JtLmlzVmFsaWQoKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0FsbCBnb29kJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSXMgbm90IHZhbGlkJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBpZiAobmF2KSB7XHJcbiAgICAgICAgbmF2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQ7XHJcblxyXG4gICAgICAgICAgICBpZiAodGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ2EnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgTVlGTC5uYXZpZ2F0aW9uLnRvZ2dsZVRvQWN0aXZlTGluayh0YXJnZXQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxufSgpKTsiXX0=
